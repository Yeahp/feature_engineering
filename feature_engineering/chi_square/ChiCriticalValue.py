import sys


class ChiCriticalValue:

    @staticmethod
    def get_critical_value(alpha: float = 0.75, freedom: int = 2):
        sig = {
            0.995: {1: 0.00004, 2: 0.010, 3: 0.072, 4: 0.207, 5: 0.412, 6: 0.676, 7: 0.989, 8: 1.344, 9: 1.735,
                     10: 2.156, 11: 2.603, 12: 3.074, 13: 3.565, 14: 4.075, 15: 4.601, 16: 5.142 },
            0.99: { 1: 0.00016, 2: 0.020, 3: 0.115, 4: 0.297, 5: 0.554, 6: 0.872, 7: 1.239, 8: 1.646, 9: 2.088,
                    10: 2.558, 11: 3.053, 12: 3.571, 13: 4.107, 14: 4.660, 15: 5.229, 16: 5.812 },
            0.975: { 1: 0.001, 2: 0.051, 3: 0.216, 4: 0.484, 5: 0.831, 6: 1.237, 7: 1.690, 8: 2.180, 9: 2.700,
                     10: 3.247, 11: 3.816, 12: 4.404, 13: 5.009, 14: 5.629, 15: 6.262, 16: 6.908 },
            0.95: { 1: 0.004, 2: 0.103, 3: 0.352, 4: 0.711, 5: 1.145, 6: 1.635, 7: 2.167, 8: 2.733, 9: 3.325,
                    10: 3.940, 11: 4.575, 12: 5.226, 13: 5.892, 14: 6.571, 15: 7.261, 16: 7.962 },
            0.90: { 1: 0.016, 2: 0.211, 3: 0.584, 4: 1.064, 5: 1.610, 6: 2.204, 7: 2.833, 8: 3.490, 9: 4.168,
                   10: 4.865, 11: 5.578, 12: 6.304, 13: 7.042, 14: 7.790, 15: 8.547, 16: 9.312 },
            0.75: { 1: 0.101, 2: 0.575, 3: 1.213, 4: 1.923, 5: 2.675, 6: 3.455, 7: 4.255, 8: 5.071, 9: 5.899,
                   10: 6.737, 11: 7.584, 12: 8.438, 13: 9.299, 14: 10.165, 15: 11.037, 16: 11.912 },
            0.5: { 1: 0.45, 2: 1.39, 3: 2.37, 4: 3.36, 5: 4.35, 6: 5.35, 7: 6.35, 8: 7.34, 9: 8.34,
                   10: 9.34, 11: 10.34, 12: 11.34, 13: 12.34, 14: 13.34, 15: 14.34, 16: 15.34 },
            0.25: { 1: 1.323, 2: 2.773, 3: 4.108, 4: 5.385, 5: 6.626, 6: 7.841, 7: 9.037, 8: 10.219, 9: 11.389,
                    10: 12.549, 11: 13.701, 12: 14.845, 13: 15.984, 14: 17.117, 15: 18.245, 16: 19.369 },
            0.1: { 1: 2.706, 2: 4.605, 3: 6.251, 4: 7.779, 5: 9.236, 6: 10.645, 7: 12.017, 8: 13.326, 9: 14.684,
                   10: 15.987, 11: 17.275, 12: 18.549, 13: 19.812, 14: 21.064, 15: 22.307, 16: 23.542 },
            0.05: { 1: 3.841, 2: 5.991, 3: 7.815, 4: 9.488, 5: 11.071, 6: 12.592, 7: 14.067, 8: 15.507, 9: 16.919,
                    10: 18.307, 11: 19.675, 12: 21.026, 13: 22.362, 14: 23.685, 15: 24.996, 16: 26.296 },
            0.025: { 1: 5.024, 2: 7.378, 3: 9.348, 4: 11.143, 5: 12.833, 6: 14.449, 7: 16.013, 8: 17.535, 9: 19.023,
                     10: 20.483, 11: 21.920, 12: 23.337, 13: 24.736, 14: 26.119, 15: 27.488, 16: 28.845 },
            0.01: { 1: 6.635, 2: 9.210, 3: 11.345, 4: 13.277, 5: 15.086, 6: 16.812, 7: 18.475, 8: 20.090, 9: 21.666,
                    10: 23.209, 11: 24.725, 12: 26.217, 13: 27.688, 14: 29.141, 15: 30.578, 16: 32.000 },
            0.005: { 1: 7.879, 2: 10.597, 3: 12.838, 4: 14.860, 5: 16.750, 6: 18.548, 7: 20.278, 8: 21.955, 9: 23.589,
                     10: 25.188, 11: 26.757, 12: 28.299, 13: 29.819, 14: 31.319, 15: 32.801, 16: 34.267},
            0.001: { 1: 10.83, 2: 13.81, 3: 16.27, 4: 18.47, 5: 20.52, 6: 22.46, 7: 24.32, 8: 26.12, 9: 27.88,
                     10: 29.59, 11: 31.26, 12: 32.91, 13: 34.53, 14: 36.12, 15: 37.70, 16: 39.25 }
        }
        if alpha in sig:
            if freedom in sig[alpha]:
                chi_value = sig[alpha][freedom]
                return chi_value
            else:
                print("no chi-square value found! please check the freedom degree!")
                sys.exit(103)
        else:
            print("significant level: " + str(alpha) + " not supported!")
            sys.exit(102)

import sys


class ChiCriticalValue:

    @staticmethod
    def get_critical_value(alpha: float, freedom: int = 2):
        sig = {
            0.05: {1: 3.84, 2: 5.99, 3: 7.81, 4: 9.49, 5: 11.07, 6: 12.59, 7: 14.07, 8: 15.51, 9: 16.92, 10: 18.31, 11: 19.68,
                   12: 21.03, 13: 22.36, 14: 23.68, 15: 25.00, 16: 26.30, 17: 27.59, 18: 28.87, 19: 30.14, 20: 31.41, 21: 32.67,
                   22: 33.92, 23: 35.17, 24: 36.42, 25: 37.65, 26: 38.89, 27: 40.11, 28: 41.34, 29: 42.56, 30: 43.77},
            0.01: {1: 6.63, 2: 9.21, 3: 11.34, 4: 13.28, 5: 15.09, 6: 16.81, 7: 18.48, 8: 20.09, 9: 21.67, 10: 23.21, 11: 24.72,
                   12: 26.22, 13: 27.69, 14: 29.14, 15: 30.58, 16: 32.00, 17: 33.14, 18: 34.18, 19: 36.19, 20: 37.57, 21: 38.93,
                   22: 40.29, 23: 41.64, 24: 42.98, 25: 44.31, 26: 45.64, 27: 46.96, 28: 48.28, 29: 49.59, 30: 50.89},
            0.001: {1: 10.83, 2: 13.81, 3: 16.27, 4: 18.47, 5: 20.52, 6: 22.46, 7: 24.32, 8: 26.12, 9: 27.88, 10: 29.59, 11: 31.26,
                    12: 32.91, 13: 34.53, 14: 36.12, 15: 37.70, 16: 39.25, 17: 40.79, 18: 42.31, 19: 43.82, 20: 45.32, 21: 46.80,
                    22: 48.27, 23: 49.73, 24: 51.18, 25: 52.62, 26: 54.05, 27: 55.48, 28: 56.89, 29: 58.30, 30: 57.70}
        }
        if alpha in sig:
            if freedom in sig[alpha]:
                chi_value = sig[alpha][freedom]
                return chi_value
            else:
                print("no chi-square value found! please check the freedom degree!")
                sys.exit(103)
        else:
            print("significant level: " + str(alpha) + " not supported!")
            sys.exit(102)
